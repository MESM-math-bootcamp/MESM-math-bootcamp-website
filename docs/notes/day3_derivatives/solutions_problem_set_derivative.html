<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nathaniel Grimes">

<title>solutions_problem_set_derivative – Bren Calculus Workshop</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Bren Calculus Workshop</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-github" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-github">    
        <li>
    <a class="dropdown-item" href="https://github.com/MESM-math-bootcamp/MESM-math-bootcamp-website">
 <span class="dropdown-text">Source code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/MESM-math-bootcamp/MESM-math-bootcamp-website/issues">
 <span class="dropdown-text">Report a bug</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
  <div id="quarto-announcement" data-announcement-id="c7b7782e967bb59a093245536bfed491" class="alert alert-primary hidden"><i class="bi bi-hammer quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p>This wesbite is under construction.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome!</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/day1_algebra/day1_algebra.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 1: Algebra</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/day2_limits/day2_limits.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 2: Limits</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/day3_derivatives/day3_derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 3: Derivatives</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/day4_integrals/day4_integrals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 4: Integrals</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../notes/day5_differential_equations/day5_differential_equations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Day 5: Differential Equations</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#solutions-derivatives-problem-set" id="toc-solutions-derivatives-problem-set" class="nav-link active" data-scroll-target="#solutions-derivatives-problem-set">Solutions: Derivatives Problem Set</a>
  <ul class="collapse">
  <li><a href="#derivative-rules" id="toc-derivative-rules" class="nav-link" data-scroll-target="#derivative-rules">Derivative Rules</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nathaniel Grimes </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><em>Answer the following questions to the best of your ability. Attempt exercises on your own first to make sure you fully understand the concepts. Feel free to work with anyone in the cohort after giving the problems a try!</em></p>
<section id="solutions-derivatives-problem-set" class="level1">
<h1>Solutions: Derivatives Problem Set</h1>
<section id="derivative-rules" class="level2">
<h2 class="anchored" data-anchor-id="derivative-rules">Derivative Rules</h2>
<ol type="1">
<li>Explain how to find the derivative of the following functions. Be sure to explicitly denote which derivative rules (constant, multiple, sum, product, chain, etc.) you would use. For extra practice, have a try at solving them!</li>
</ol>
<ol type="a">
<li><span class="math inline">\(\large f(x)=\sqrt{(x+3)}\)</span></li>
</ol>
<p><span style="color:blue"> We can use chain rule to compute this one, with the outer function being <span class="math inline">\(\sqrt(u)\)</span> and ithe inner function being <span class="math inline">\(x+3\)</span>. We can compute each of these derivatives using the power rule. We obtain that&lt;&gt;</span></p>
<p><span style="color:blue"> <span class="math display">\[
f'(x)=\frac{1}{2\sqrt{(x+3)}}
\]</span> </span></p>
<ol start="2" type="a">
<li><span class="math inline">\(h(a)=\frac{\exp^{-a}}{a^2-5}\)</span></li>
</ol>
<p><span style="color:blue"> First we would use the quotient rule then to solve for the individual derivatives. The individual derivatives will require us to use the chain rule (for the numerator) and the power rule (for the denominator). We obtain that </span></p>
<p><span style="color:blue"> <span class="math display">\[
h'(a)=\frac{-(a^2-5)e^{-a}-(2a)e^{-a}}{(a^2-5)^2}
\]</span> </span></p>
<ol start="3" type="a">
<li><span class="math inline">\(g(t)=\left(\frac{5t^3+2}{2(t^2-2)}\right)^6\)</span></li>
</ol>
<p><span style="color:blue"> First chain rule. In the <span class="math inline">\(u\)</span>-substitution we have to use the quotient and power rules. </span></p>
<p><span style="color:blue"> <span class="math display">\[\begin{align}
g(t)&amp;=\left(\frac{5t^3+2}{2(t^2-2)}\right)^6 \\
g(t)&amp;=u(t)^6  &amp;u=\frac{5t^3+2}{2(t^2-2)}\\
g'(t)&amp;=6(u(t))^5\times u'(t)  &amp;\frac{du}{dt}=\frac{2(t^2-2)15t^2-4t(5t^3+2)}{(2(t^2-2))^2} \\
g'(t)&amp;=6(u(t))^5* \frac{2(t^2-2)15t^2-4t(5t^3+2)}{(2(t^2-2))^2} \\
g'(t)&amp;=6\left(\frac{5t^3+2}{2(t^2-2)}\right)^5\frac{2(t^2-2)15t^2-4t(5t^3+2)}{(2(t^2-2))^2}
\end{align}\]</span> </span></p>
<ol start="2" type="1">
<li>On the graph, label all regions where the following statements are true:</li>
</ol>
<ol type="a">
<li><span class="math inline">\(f'(x)=0\)</span></li>
</ol>
<p><span style="color:blue"> We have that <span class="math inline">\('f(x)=0\)</span> at <span class="math inline">\(x=-2\)</span> and <span class="math inline">\(x=2\)</span>, these are a minima and maxima respectively. </span></p>
<ol start="2" type="a">
<li><p><span class="math inline">\(f'(x)&gt;0\)</span> <span style="color:blue"><br>
The function <span class="math inline">\(f(x)\)</span> has a positive derivative whenever it is increasing, this happens over the interval (-2,0). This is indicated as the blue interval on the graph below. </span></p></li>
<li><p><span class="math inline">\(f'(x)&lt;0\)</span></p></li>
</ol>
<p><span style="color:blue"> The function <span class="math inline">\(f(x)\)</span> has a negative derivative whenever it is decreasing, this happens over the intervals <span class="math inline">\((-\infty,-2)\)</span> and <span class="math inline">\((0,\infty)\)</span>. This range is indicated by the red intervals on the graph below. </span></p>
<p>d)<span class="math inline">\(f''(x)&gt;0\)</span></p>
<p><span style="color:blue"><br>
The second derivative <span class="math inline">\(f''(x)\)</span> is positive whenever the function is concave up (it has a U shape). The points at which the graph changes concavity are called inflection points. We can estimate the function is concave up whenever <span class="math inline">\(x&lt;-1\)</span>. </span></p>
<ol start="5" type="a">
<li><span class="math inline">\(f''(x)&lt;0\)</span></li>
</ol>
<p><span style="color:blue"> The second derivative <span class="math inline">\(f''(x)\)</span> is negative whenever the function is concave down (it has an upside-down U shape). The points at which the graph changes concavity are called inflection points. We can estimate the function is concave down whenever <span class="math inline">\(x&gt;-1\)</span>. </span></p>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="solutions_problem_set_derivative_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption>The color bars correspond to the verbal statements and their colors in answer key above</figcaption>
</figure>
</div>
</div>
</div>
<ol start="3" type="1">
<li>Find the derivative of these equations</li>
</ol>
<ol type="a">
<li><span class="math inline">\(f(x)=e^{x^2+3}\)</span></li>
</ol>
<p><span style="color:blue"> <span class="math display">\[
f'(x)=2x e^{x^2+3}
\]</span> </span></p>
<ol start="2" type="a">
<li><span class="math inline">\(f(x)=\sqrt(2x)(x^3-4x+15)\)</span></li>
</ol>
<p><span style="color:blue"> <span class="math display">\[
f'(x) =\frac{1}{\sqrt{2x}}(x^3-4x+15)+\sqrt{2x}(3x^2-4)
\]</span> </span></p>
<ol start="3" type="a">
<li><span class="math inline">\(f(x)=\frac{x^3+2x}{x-1}\)</span></li>
</ol>
<p><span style="color:blue"> <span class="math display">\[
f'(x)=\frac{(x-1)(3x^2+2)-(x^3+2x)(1)}{(x-1)^2}
\]</span> </span></p>
<ol start="4" type="1">
<li>Find the critical points of the following function and determine whether they are maxima or minima:</li>
</ol>
<p><span class="math display">\[
f(x) = 2x^3-5x^2+3x-12.
\]</span></p>
<p><span style="color:blue"> To do this we neeed to first find the critical points by solving <span class="math inline">\(f'(x)=0\)</span> and then use the second derivative test on the critical points we find to determine if they are a maxima or a minima. Computing the first derivative using the power rule we have that </span></p>
<p><span style="color:blue"> <span class="math display">\[
f'(x)=6x^2-10x+3=0
\]</span> </span></p>
<p><span style="color:blue"> Then, using the quadratic formula to solve this equation we get that the critical points of <span class="math inline">\(f(x)\)</span> are <span class="math inline">\(x\approx 1.27\)</span> and <span class="math inline">\(x\approx 0.39\)</span>. </span></p>
<p><span style="color:blue"> Next, the second derivative is <span class="math inline">\(f''(x)=12x-10\)</span>, and evaluating this at the critical points we get that <span class="math display">\[f''(1.27)&gt;0 \ \text{ and } \ f''(0.39)&lt;0\]</span> </span></p>
<p><span style="color:blue"> Therefore, based on the first and second order conditions, there are two optimas for this function at <span class="math inline">\(x\approx 1.27\)</span> and <span class="math inline">\(x\approx 0.39\)</span>. Plugging these values into the second order derivative we can see that <span class="math inline">\(x\approx 0.39\)</span> is a maximum and <span class="math inline">\(x\approx 1.27\)</span> is a minimum. </span></p>
<ol start="5" type="1">
<li></li>
</ol>
<p>Let’s solve the canonical Gordon-Schaefer fisheries production model. This model formed the basis of fisheries management for half a century and is still a widely used model. It starts by defining the change in the abundance or biomass of fish by the logistic growth equation:</p>
<p><span class="math display">\[\begin{equation}
\frac{dB}{dt}=rB(t)(1-\frac{B(t)}{K})
\end{equation}\]</span></p>
<p>where <span class="math inline">\(B\)</span> is biomass, <span class="math inline">\(t\)</span> is time, <span class="math inline">\(r\)</span> is the intrinsic growth rate, and <span class="math inline">\(K\)</span> is the carrying capacity.</p>
<p>Next, fishers catch fish based on their effort <span class="math inline">\(E\)</span> (constant), technological ability <span class="math inline">\(q\)</span> (constant as well and also called the catchability coefficient), and the amount of fish <span class="math inline">\(B\)</span>. For simplicity, we use an easy multiplicative form:</p>
<p><span class="math display">\[
Y(t)=qEB(t)
\]</span></p>
<p>This catch rate takes away from the growth of the fish stock, thus we can subtract it from the logistic growth equation 1.</p>
<p><span class="math display">\[\begin{equation}
\frac{dB}{dt}=rB(t)(1-\frac{B(t)}{K})-Y(t)
\end{equation}\]</span></p>
<p><strong>a)</strong> Fishery managers are interested in finding the equilibrium level of biomass and harvest. We can set <span class="math inline">\(\frac{dB}{dt}=0\)</span>. Solve for the equilibrium biomass in terms of K,q,r,E.</p>
<p><span style="color:blue"> Substituting <span class="math inline">\(Y(t)\)</span> in <span class="math inline">\(\frac{dB}{dt}\)</span> and solving for B we obtain: <span class="math display">\[
\begin{align}
0&amp;=rB(1-\frac{B}{K})-qEB \\
qEB&amp;=rB(1-\frac{B}{K})\\
qE&amp;=r(1-\frac{B}{K})\\
\frac{rB}{K}&amp;=r-qE \\
B&amp;=K(1-\frac{qE}{r}).
\end{align}
\]</span> </span></p>
<p><strong>b)</strong> Substitute the equilibrium biomass you found in (a) into the catch equation.</p>
<p><span style="color:blue"> Making this substitution we obtain <span class="math display">\[
\begin{align}
Y&amp;=qEB \\
&amp;=qEK(1-\frac{qE}{r})\\
&amp;=qEK-\frac{q^2E^2K}{r}.
\end{align}
\]</span> </span></p>
<p><strong>c)</strong> What effort leads to a maximum sustainable yield? Maximize the equation from b) with respect to effort <span class="math inline">\(E\)</span>.</p>
<p><span style="color:blue"> Let’s take the derivative of the previous equation with respet to <span class="math inline">\(E\)</span>: <span class="math display">\[
\begin{align}
\frac{dY}{dE}&amp;= \frac{d}{dE} qEK-\frac{q^2E^2K}{r}\\
   &amp;= qK-\frac{2q^2EK}{r}.
\end{align}
\]</span> </span></p>
<p><span style="color:blue"> To find the effort <span class="math inline">\(E\)</span> that leads to the maximum yield we find the critical points: <span class="math display">\[
\begin{align}
qK-\frac{2q^2EK}{r} = 0 &amp;\Rightarrow qK =\frac{2q^2EK}{r} \\
                        &amp;\Rightarrow  E^* = \frac{r}{2q}.
\end{align}
\]</span> </span></p>
<p><strong>d)</strong> Interpret what you found in c). What are the two variables that drive fisher harvest levels?</p>
<p><span style="color:blue"> The amount of effort that leads to the most amount of catch is driven entirely by the rate of growth of fish stocks and the ability of fishers to catch them. If <span class="math inline">\(q\)</span> catchability goes up, fishers become more efficient and need less effort to reach max harvest. Faster growing species allow for more growth and thus more effort to catch them. </span></p>
<p><strong>e)</strong> Calculate what is the maximum sustainable yield by substituting the optimal harvest level into the harvest equation.</p>
<p><span style="color:blue"> Doing this substitution we obtain that the maximum sustainable yield is <span class="math display">\[\begin{align}
Y_{\text{max}}=\frac{qrK}{2q}-\frac{q^2(\frac{r}{2q})^2K}{r}\\
Y_{\text{max}}=\frac{rK}{2}-\frac{rK}{4}\\
Y_{\text{max}}=\frac{Kr}{4}.
\end{align}\]</span> </span></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This website is built with <a href="https://quarto.org/">Quarto</a> and <a href="https://github.com/MEDS-eds-220/MEDS-eds-220-course">GitHub pages</a>.</p>
</div>
  </div>
</footer>




</body></html>